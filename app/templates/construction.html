{% extends 'base.html' %} {% load static %} {% load widget_tweaks %}
<! ignore prettier ->
  {% block content %}
  <section class="container-fluid" id="main">
    <!-- about company text -->

    {% comment %} <h1 class="text-center display-2">Construction</h1>
    <p class="lh-base text-center ms-5 me-5">
      Lorem ipsum dolor sit amet consectetur adipisicing elit. Labore, omnis
      perspiciatis sint voluptatum tempore sunt iusto ab at aspernatur illo!
      Possimus totam eligendi aliquid corrupti quis voluptas ipsum repellendus
      nam? Lorem ipsum dolor sit amet consectetur adipisicing elit. Eligendi,
      natus adipisci aliquam unde voluptates incidunt repellendus culpa
      praesentium voluptatum error aspernatur odio tempora corporis perferendis
      quasi iure non assumenda repellat!
    </p>
    <!-- contruction cards -->
    <div class="row mb-3">
      <div class="col-md-6 mb-3 mb-sm-0">
        <div class="card">
          <img src="{% static "images/const1.jpg" %}" class="card-img-top" alt="..." />
          <div class="card-body">
            <h5 class="card-title">Card title</h5>
            <p class="card-text">
              This is a wider card with supporting text below as a natural lead-in
              to additional content. This content is a little bit longer.
            </p>
            <p class="card-text">
              <a href="{% url 'contact' %}"><button type="button" class="btn btn-warning">
                  Contact Us
                </button></a>
              <a href="#quoteform"><button type="button" class="btn btn-warning">
                  Get a Quote
                </button></a>
            </p>
          </div>
        </div>
      </div>
      <div class="col-md-6 mb-3 mb-sm-0">
        <div class="card">
          <img src="{% static "images/const2.jpg" %}" class="card-img-top" alt="..." />
          <div class="card-body">
            <h5 class="card-title">Card title</h5>
            <p class="card-text">
              This is a wider card with supporting text below as a natural lead-in
              to additional content. This content is a little bit longer.
            </p>
            <p class="card-text">
              <a href="contact.html"><button type="button" class="btn btn-warning">
                  Contact Us
                </button></a>
              <a href="#quoteform"><button type="button" class="btn btn-warning">
                  Get a Quote
                </button></a>
            </p>
          </div>
        </div>
      </div>
    </div>

    <div class="row mb-3">
      <div class="col-md-6 mb-3 mb-sm-0">
        <div class="card">
          <img src="{% static "images/const1.jpg" %}" class="card-img-top" alt="..." />
          <div class="card-body">
            <h5 class="card-title">Card title</h5>
            <p class="card-text">
              This is a wider card with supporting text below as a natural lead-in
              to additional content. This content is a little bit longer.
            </p>
            <p class="card-text">
              <a href="contact.html"><button type="button" class="btn btn-warning">
                  Contact Us
                </button></a>
              <a href="#quoteform"><button type="button" class="btn btn-warning">
                  Get a Quote
                </button></a>
            </p>
          </div>
        </div>
      </div>
      <div class="col-md-6 mb-3 mb-sm-0">
        <div class="card">
          <img src="{% static "images/const2.jpg" %}" class="card-img-top" alt="..." />
          <div class="card-body">
            <h5 class="card-title">Card title</h5>
            <p class="card-text">
              This is a wider card with supporting text below as a natural lead-in
              to additional content. This content is a little bit longer.
            </p>
            <p class="card-text">
              <a href="contact.html"><button type="button" class="btn btn-warning">
                  Contact Us
                </button></a>
              <a href="#quoteform"><button type="button" class="btn btn-warning">
                  Get a Quote
                </button></a>
            </p>
          </div>
        </div>
      </div>
    </div>

    <div class="row mb-3">
      <div class="col-md-6 mb-3 mb-sm-0">
        <div class="card">
          <img src="{% static "images/const1.jpg" %}" class="card-img-top" alt="..." />
          <div class="card-body">
            <h5 class="card-title">Card title</h5>
            <p class="card-text">
              This is a wider card with supporting text below as a natural lead-in
              to additional content. This content is a little bit longer.
            </p>
            <p class="card-text">
              <a href="contact.html"><button type="button" class="btn btn-warning">
                  Contact Us
                </button></a>
              <a href="#quoteform"><button type="button" class="btn btn-warning">
                  Get a Quote
                </button></a>
            </p>
          </div>
        </div>
      </div>
      <div class="col-md-6 mb-3 mb-sm-0">
        <div class="card">
          <img src="{% static "images/const2.jpg" %}" class="card-img-top" alt="..." />
          <div class="card-body">
            <h5 class="card-title">Card title</h5>
            <p class="card-text">
              This is a wider card with supporting text below as a natural lead-in
              to additional content. This content is a little bit longer.
            </p>
            <p class="card-text">
              <a href="contact.html"><button type="button" class="btn btn-warning">
                  Contact Us
                </button></a>
              <a href="#quoteform"><button type="button" class="btn btn-warning">
                  Get a Quote
                </button></a>
            </p>
          </div>
        </div>
      </div>
    </div> {% endcomment %}

    <!-- quotes -->

    <div class="row mb-3" id="rental-cards-container">

      {% for job in construction_jobs %}
      {% if job.isComplete == False %}
      <div class="col-sm-12 col-md-3 mb-3 mb-sm-0 mx-auto rental-card" data-address="{{ job.address }}"
        data-city="{{ job.city }}" data-price="{{ job.price }}">
        <div class="card mt-3">
          {% with construction_image=job.constructionjobphoto_set.first %}
          {% if construction_image%}

          <img src="{{ construction_image.picture.url }}" class="card-img-top" alt="{{ job.address }}" />

          {% else %}
          <p class="card-text">No Image Found</p>
          {% endif %}
          <h5 class="card-title">{{ job.address }}</h5>
          <div class="overflow-y-scroll" style="height: 100px;">
            <p class="card-text">{{ job.description }}</p>
          </div>
          <p class="card-text">
            <button type="button" class="btn btn-warning" data-bs-toggle="modal" data-bs-target="#modal-{{ job.id }}">
              Info
            </button>
          </p>
          {% endwith %}
        </div>

        <div class="modal fade modal-lg" id="modal-{{ job.id }}" tabindex="-1" aria-labelledby="exampleModalLabel"
          aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header bg-warning">
                <h1 class="modal-title fs-5" id="exampleModalLabel">{{ job.address }}</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                {% with construction_images=job.constructionjobphoto_set.all %}
                {% if construction_images %}

                {% for photo in construction_images %}
                <img src="{{ photo.picture.url }}" class="card-img-top p-2" alt="{{ job.address }}" />
                {% endfor %}
                {% else %}
                <p class="card-text">No Images Found</p>
                {% endif %}
                {% endwith %}
                <p class="card-text">{{ job.description }}</p>
              </div>
              <div class="modal-footer bg-warning">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              </div>
            </div>
          </div>
        </div>
      </div>
      {% endif %}
      {% endfor %}
    </div>



    <form class="bg-warning-subtle" action="" method="post" enctype="multipart/form-data">
      {%csrf_token%}
      <div class="container-fluid w-75 p-3">
        <h1 class="text-center display-2">Get a Quote</h1>
        <p class="lh-base text-center ms-5 me-5">
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Labore, omnis
          perspiciatis sint voluptatum tempore sunt iusto ab at aspernatur illo!
          Possimus totam eligendi aliquid corrupti quis voluptas ipsum repellendus
          nam? Lorem ipsum dolor sit amet consectetur adipisicing elit. Eligendi,
          natus adipisci aliquam unde voluptates incidunt repellendus culpa
          praesentium voluptatum error aspernatur odio tempora corporis
          perferendis quasi iure non assumenda repellat!
        </p>

        <div class="mb-3">
          <div class="row mb-2">
            <div class="col form-field">
              <label for="first_name" class="form-label">First Name</label>
              {% render_field quote_view.first_name class="form-control" %}
            </div>
            <div class="col">
              <label for="exampleFormControlInput1" class="form-label">Last Name</label>
              {% render_field quote_view.last_name class="form-control" %}
            </div>
          </div>
          <div class="row">
            <div class="col">
              <label for="exampleFormControlInput1" class="form-label">Phone</label>
              {% render_field quote_view.phone class="form-control" %}
            </div>
            <div class="col">
              <label for="exampleFormControlInput1" class="form-label">Email</label>
              {% render_field quote_view.email class="form-control" %}
            </div>
          </div>
        </div>
        <label for="exampleFormControlInput1" class="form-label">Catagories</label>
        <select class="form-select">
          {% render_field quote_view.subject class="custom-select form-select" %}
          <option val="Residential">Residential</option>
          <option val="Commercial">Commercial</option>
          <option val="Other">Other</option>
        </select>

        <div class="mb-3">
          <label for="exampleFormControlTextarea1" class="form-label">Explain the work needed in as much
            detail as possible.</label>
          {% render_field quote_view.message class="form-control" %}
        </div>

        <button type="submit" class="btn btn-warning mb-3">Submit</button>
      </div>
    </form>
  </section>
  {% endblock %}