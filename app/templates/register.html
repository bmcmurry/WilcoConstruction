{% extends 'base.html' %} {% load static %} {% block content %}

<section class="container-fluid" id="main">
  <div class="container-fluid w-75 p-3">
    <div class="card p-2 bg-warning-subtle">
      <form class="bg-warning-subtle" method="POST">
        {% csrf_token %}
        <h3 class="card-title mt-2 display-6">REGISTER</h3>
        {% for field in form %}
        <div class="mb-2">
          <label for="id_{{field.name}}" class="form-label"
            >{{field.label}}</label
          >
          {% if field.name == 'password1' or field.name == 'password2' %}
          <!-- Use type="password" for password fields to hide the characters -->
          <input
            type="password"
            id="id_{{field.name}}"
            name="{{field.name}}"
            placeholder="{{field.label}}"
            class="form-control"
          />
          <i class="bi bi-eye-slash" id="togglePassword"></i>

          {% else %}
          <!-- For other fields, use type="text" -->
          <input
            type="text"
            id="id_{{field.name}}"
            name="{{field.name}}"
            placeholder="{{field.label}}"
            class="form-control"
          />
          {% endif %}
        </div>
        {% endfor %}
        <button type="submit" class="btn btn-warning">Register</button>

        <p>{{form.errors}}</p>
      </form>
      {% if error_messages %}
      <ul>
        {% for field, messages in error_messages.items %}
        <! ignore prettier ->
        {% for message in messages %}
        <li class="message">{{ field.label }}: {{ message }}</li>
        {% endfor %}{% endfor %}
      </ul>
      {% endif %}
    </div>
  </div>
</section>
{% endblock content %}
